@* VideoUpload Component - Full Implementation with Code-Behind *@

<div class="video-upload-container">
    <h3 class="upload-title">@Title</h3>

    @if (!string.IsNullOrEmpty(errorMessage))
    {
        <div class="alert alert-danger">
            <i class="fas fa-exclamation-circle"></i>
            <span>@errorMessage</span>
        </div>
    }

    @if (!string.IsNullOrEmpty(successMessage))
    {
        <div class="alert alert-success">
            <i class="fas fa-check-circle"></i>
            <span>@successMessage</span>
        </div>
    }

    @if (isUploading)
    {
        <div class="upload-progress">
            <div class="progress-bar">
                <div class="progress-bar-fill" style="width: @(uploadProgress)%"></div>
            </div>
            <p class="progress-text">Uploading... @(uploadProgress.ToString("F0"))%</p>
        </div>
    }
    else
    {
        <div class="upload-zone @(selectedFile != null ? "has-file" : "")"
             ondragover="event.preventDefault();"
             ondrop="event.preventDefault();">

            @if (selectedFile == null)
            {
                <i class="fas fa-cloud-upload-alt upload-icon"></i>
                <p class="upload-instructions">Drag & drop video file here or click to browse</p>
                <p class="upload-hint">Maximum file size: @(MaxFileSize / 1024 / 1024)MB | Supported: MP4, WebM, OGG, MOV</p>

                <InputFile OnChange="OnFileSelected"
                           accept="video/*"
                           class="file-input"
                           id="video-file-input" />
                <label for="video-file-input" class="btn btn-primary">
                    <i class="fas fa-folder-open"></i> Choose File
                </label>
            }
            else
            {
                <div class="file-selected">
                    <i class="fas fa-file-video file-icon"></i>
                    <div class="file-info">
                        <p class="file-name">@selectedFileName</p>
                        <p class="file-size">@((selectedFileSize / 1024.0 / 1024.0).ToString("F2")) MB</p>
                    </div>
                </div>

                <div class="upload-actions">
                    <button class="btn btn-success" @onclick="UploadVideo" disabled="@isUploading">
                        <i class="fas fa-upload"></i> Upload Video
                    </button>
                    <button class="btn btn-secondary" @onclick="CancelUpload" disabled="@isUploading">
                        <i class="fas fa-times"></i> Cancel
                    </button>
                </div>
            }
        </div>
    }
</div>
