@page "/instructor/courses/create"
@using Microsoft.AspNetCore.Authorization
@attribute [Authorize(Roles = "Instructor")]

<PageTitle>Create Course - InsightLearn</PageTitle>

<div class="container py-5">
    <h1>Create New Course</h1>

    <div class="progress mt-4 mb-4">
        <div class="progress-bar" role="progressbar" style="width: @((currentStep / 3.0 * 100))%" aria-valuenow="@currentStep" aria-valuemin="0" aria-valuemax="3"></div>
    </div>

    <div class="row">
        <div class="col-md-3">
            <div class="list-group">
                <div class="list-group-item @(currentStep == 1 ? "active" : "")">
                    <i class="bi bi-1-circle"></i> Basic Info
                </div>
                <div class="list-group-item @(currentStep == 2 ? "active" : "")">
                    <i class="bi bi-2-circle"></i> Pricing
                </div>
                <div class="list-group-item @(currentStep == 3 ? "active" : "")">
                    <i class="bi bi-3-circle"></i> Review
                </div>
            </div>
        </div>

        <div class="col-md-9">
            @if (currentStep == 1)
            {
                <div class="card">
                    <div class="card-body">
                        <h3>Basic Information</h3>
                        <div class="mb-3">
                            <label class="form-label">Course Title</label>
                            <input type="text" class="form-control" placeholder="e.g., Complete Python Programming" />
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Description</label>
                            <textarea class="form-control" rows="4" placeholder="Describe what students will learn..."></textarea>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Category</label>
                            <select class="form-select">
                                <option>Select category...</option>
                                <option>Programming</option>
                                <option>Design</option>
                                <option>Business</option>
                            </select>
                        </div>
                        <button class="btn btn-primary" @onclick="NextStep">Next</button>
                    </div>
                </div>
            }
            else if (currentStep == 2)
            {
                <div class="card">
                    <div class="card-body">
                        <h3>Pricing</h3>
                        <div class="mb-3">
                            <label class="form-label">Price (â‚¬)</label>
                            <input type="number" class="form-control" placeholder="49.99" min="0" step="0.01" />
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Thumbnail URL</label>
                            <input type="url" class="form-control" placeholder="https://example.com/image.jpg" />
                        </div>
                        <button class="btn btn-secondary me-2" @onclick="PreviousStep">Back</button>
                        <button class="btn btn-primary" @onclick="NextStep">Next</button>
                    </div>
                </div>
            }
            else if (currentStep == 3)
            {
                <div class="card">
                    <div class="card-body">
                        <h3>Review & Submit</h3>
                        <p>Review your course details before publishing.</p>
                        <div class="alert alert-info">
                            <i class="bi bi-info-circle"></i> Your course will be reviewed before it's published to ensure quality.
                        </div>
                        <button class="btn btn-secondary me-2" @onclick="PreviousStep">Back</button>
                        <button class="btn btn-success">Create Course</button>
                    </div>
                </div>
            }
        </div>
    </div>
</div>

@code {
    private int currentStep = 1;

    private void NextStep()
    {
        if (currentStep < 3) currentStep++;
    }

    private void PreviousStep()
    {
        if (currentStep > 1) currentStep--;
    }
}
